<html>
<head>
  <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
  <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="/static/js/date.js" type="text/javascript" charset="utf-8"></script>
  <!-- <script src='http://code.highcharts.com/highcharts.js'></script> -->
  <!-- <script type="text/javascript" src="https://www.google.com/jsapi"></script> -->
  <script type="text/javascript">
    function createChart (url,bind) {
      $.getJSON(url, function (dat) {
        var chart = c3.generate({
          bindto: bind,
          data: {
            x: 'ts',
            xFormat: '%Y-%m-%dT%H:%M:%SZ',
            columns: dat,
            // onmouseover: function (d) {
            //   console.log(d.id, d.value);
            // }
          },
          axis: {
            x: {
              type: 'timeseries',
              tick: {
                format: '%H:%M'
              }
            }
          },
          legend: {
            position: 'right'
          },
          subchart: {
            show: true
          }
        });
      });


    };
    $(document).ready(function(){
      createChart("/apvi/contribution/json",'#contribution');
      createChart("/apvi/performance/json",'#performance');
    });

  </script>
</head>
<body>
  <!-- <div id="line_top_x"></div> -->
  <h3>Contribution</h3>
  <div id="contribution"></div>
  <h3>Performance</h3>
  <div id="performance"></div>
</body>
</html>

